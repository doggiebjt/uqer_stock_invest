# -*- coding: utf-8 -*-
# 标注数据 月线长期趋势
stock_rdate = {
"000682":
[
("2007-07-01", "2008-03-06", +0),
("2008-03-06", "2008-11-07", -1),
("2008-11-07", "2010-04-08", +1),
("2010-04-08", "2011-07-06", +0),
("2011-07-06", "2012-11-30", -1),
("2012-11-30", "2014-01-10", +0),
("2014-01-10", "2015-06-12", +1),
("2015-06-12", "2017-08-08", +0),
("2017-08-08", "2018-10-19", -1),
("2018-10-19", "2019-03-22", +1),
("2019-03-22", "2019-08-09", -1),
("2019-08-09", "2021-02-04", +0),
("2021-02-04", "2021-12-16", +1),
("2021-12-16", "2022-12-16", +0),
],

# "600420":
# [
# ("2007-07-01", "2008-03-07", +0),
# ("2008-03-07", "2008-11-03", -1),
# ("2008-11-03", "2010-12-01", +1),
# ("2010-12-01", "2012-01-06", -1),
# ("2012-01-06", "2013-06-07", +1),
# ("2013-06-07", "2014-05-16", +0),
# ("2014-05-16", "2015-06-04", +1),
# ("2015-06-04", "2017-10-11", +0),
# ("2017-10-11", "2018-10-18", -1),
# ("2018-10-18", "2022-12-16", +0),
# ],

"600783":
[
("2007-07-01", "2008-11-06", +0),
("2008-11-06", "2009-09-14", +1),
("2009-09-14", "2010-07-02", +0),
("2010-07-02", "2011-07-22", +1),
("2011-07-22", "2012-12-04", -1),
("2012-12-04", "2015-06-02", +1),
("2015-06-02", "2016-11-25", +0),
("2016-11-25", "2018-10-19", -1),
("2018-10-19", "2019-03-25", +1),
("2019-03-25", "2020-07-14", +0),
("2020-07-14", "2021-08-05", -1),
("2021-08-05", "2022-12-16", +0),
],

# "002051":
# [
# ("2007-07-01", "2008-03-12", +0),
# ("2008-03-12", "2008-11-03", -1),
# ("2008-11-03", "2010-12-06", +1),
# ("2010-12-06", "2014-05-15", +0),
# ("2014-05-15", "2015-06-12", +1),
# ("2015-06-12", "2016-03-01", +0),
# ("2016-03-01", "2017-04-24", +1),
# ("2017-04-24", "2021-02-05", -1),
# ("2021-02-05", "2021-11-03", +0),
# ("2021-11-03", "2022-12-16", +1),
# ],

"000016":
[
("2007-07-01", "2008-05-05", +0),
("2008-05-05", "2008-11-06", -1),
("2008-11-06", "2010-03-08", +1),
("2010-03-08", "2012-12-03", -1),
("2012-12-03", "2013-06-25", +0),
("2013-06-25", "2015-06-11", +1),
("2015-06-11", "2016-02-01", -1),
("2016-02-01", "2017-05-12", +0),
("2017-05-12", "2017-11-16", +1),
("2017-11-16", "2018-05-21", +0),
("2018-05-21", "2018-10-19", -1),
("2018-10-19", "2019-03-21", +1),
("2019-03-21", "2019-08-13", +0),
("2019-08-13", "2020-03-11", +1),
("2020-03-11", "2020-10-29", -1),
("2020-10-29", "2021-09-13", +0),
("2021-09-13", "2022-04-27", -1),
("2022-04-27", "2022-12-16", +0),
],

"600966":
[
("2007-07-01", "2008-02-29", +1),
("2008-02-29", "2008-11-04", -1),
("2008-11-04", "2009-08-04", +1),
("2009-08-04", "2010-10-26", +0),
("2010-10-26", "2013-06-25", -1),
("2013-06-25", "2014-01-14", +0),
("2014-01-14", "2015-06-18", +1),
("2015-06-18", "2016-03-01", -1),
("2016-03-01", "2016-12-13", +0),
("2016-12-13", "2017-10-09", +1),
("2017-10-09", "2019-02-01", -1),
("2019-02-01", "2021-02-18", +1),
("2021-02-18", "2022-04-27", -1),
("2022-04-27", "2022-10-25", +0),
("2022-10-25", "2022-12-16", +1),
],

# "000555":
# [
# ("2007-07-01", "2008-03-06", +0),
# ("2008-03-06", "2008-11-03", -1),
# ("2008-11-03", "2010-03-22", +1),
# ("2010-03-22", "2011-04-18", +0),
# ("2011-04-18", "2012-01-06", -1),
# ("2012-01-06", "2012-08-02", +0),
# ("2012-08-02", "2013-10-15", +1),
# ("2013-10-15", "2014-04-28", +0),
# ("2014-04-28", "2015-05-22", +1),
# ("2015-05-22", "2016-07-21", +0),
# ("2016-07-21", "2018-02-07", -1),
# ("2018-02-07", "2019-08-13", +0),
# ("2019-08-13", "2020-09-02", +1),
# ("2020-09-02", "2022-04-22", -1),
# ("2022-04-22", "2022-12-16", +0),
# ],

"600037":
[
("2007-07-01", "2008-01-03", +0),
("2008-01-03", "2008-11-04", -1),
("2008-11-04", "2010-01-19", +1),
("2010-01-19", "2010-11-05", +0),
("2010-11-05", "2012-12-03", -1),
("2012-12-03", "2013-07-01", +0),
("2013-07-01", "2015-06-16", +1),
("2015-06-16", "2016-02-29", -1),
("2016-02-29", "2016-08-22", +1),
("2016-08-22", "2018-10-18", -1),
("2018-10-18", "2022-12-16", +0),
],

"000088":
[
("2007-07-01", "2008-03-04", +0),
("2008-03-04", "2008-10-28", -1),
("2008-10-28", "2009-08-05", +1),
("2009-08-05", "2013-07-29", +0),
("2013-07-29", "2015-07-01", +1),
("2015-07-01", "2016-02-29", -1),
("2016-02-29", "2017-06-20", +1),
("2017-06-20", "2020-05-22", -1),
("2020-05-22", "2020-08-05", +1),
("2020-08-05", "2021-07-30", -1),
("2021-07-30", "2022-12-16", +0),
],

# "600869":
# [
# ("2007-07-01", "2008-05-20", +0),
# ("2008-05-20", "2008-11-06", -1),
# ("2008-11-06", "2009-05-19", +1),
# ("2009-05-19", "2010-07-05", +0),
# ("2010-07-05", "2011-02-23", +1),
# ("2011-02-23", "2012-01-06", -1),
# ("2012-01-06", "2014-12-30", +0),
# ("2014-12-30", "2015-05-08", +1),
# ("2015-05-08", "2017-09-18", +0),
# ("2017-09-18", "2018-10-16", -1),
# ("2018-10-16", "2020-04-22", +0),
# ("2020-04-22", "2021-02-08", -1),
# ("2021-02-08", "2021-12-03",  +1),
# ("2021-12-03", "2022-12-16", +0),
# ],

"000915":
[
("2007-07-01", "2008-01-14", +1),
("2008-01-14", "2008-11-04", -1),
("2008-11-04", "2010-11-25", +1),
("2010-11-25", "2011-07-19", +0),
("2011-07-19", "2012-01-06", -1),
("2012-01-06", "2012-07-11", +1),
("2012-07-11", "2012-12-04", +0),
("2012-12-04", "2013-10-08", +1),
("2013-10-08", "2014-12-31", +0),
("2014-12-31", "2015-06-12", +1),
("2015-06-12", "2017-10-30", +0),
("2017-10-30", "2018-10-19", -1),
("2018-10-19", "2019-04-10", +1),
("2019-04-10", "2021-02-04", +0),
("2021-02-04", "2022-12-16", +1),
],

"600761":
[
("2007-07-01", "2008-02-18", +0),
("2008-02-18", "2008-11-04", -1),
("2008-11-04", "2009-08-05", +1),
("2009-08-05", "2010-07-02", +0),
("2010-07-02", "2010-10-21", +1),
("2010-10-21", "2011-07-18", +0),
("2011-07-18", "2011-12-22", -1),
("2011-12-22", "2013-06-26", +0),
("2013-06-26", "2013-12-10", +1),
("2013-12-10", "2014-08-28", +0),
("2014-08-28", "2015-06-15", +1),
("2015-06-15", "2016-09-26", +0),
("2016-09-26", "2017-03-17", +1),
("2017-03-17", "2020-04-28", +0),
("2020-04-28", "2020-10-23", +1),
("2020-10-23", "2022-12-16", +0),
],

"600477":
[
("2007-07-01", "2008-08-27", -1),
("2008-08-27", "2010-07-02", +0),
("2010-07-02", "2011-03-15", +1),
("2011-03-15", "2011-11-04", +0),
("2011-11-04", "2013-07-09", -1),
("2013-07-09", "2014-03-14", +0),
("2014-03-14", "2014-04-22", +1),
("2014-04-22", "2015-02-06", +0),
("2015-02-06", "2015-06-16", +1),
("2015-06-16", "2016-08-01", +0),
("2016-08-01", "2017-09-05", +1),
("2017-09-05", "2019-01-31", -1),
("2019-01-31", "2022-12-16", +0),
],


# "002011":
# [
# ("2007-07-01", "2008-01-28", +1),
# ("2008-01-28", "2008-10-28", -1),
# ("2008-10-28", "2011-03-21", +1),
# ("2011-03-21", "2012-01-06", -1),
# ("2012-01-06", "2014-06-19", +0),
# ("2014-06-19", "2015-06-15", +1),
# ("2015-06-15", "2017-06-05", +0),
# ("2017-06-05", "2018-10-16", -1),
# ("2018-10-16", "2021-02-05", +0),
# ("2021-02-05", "2021-12-06", +1),
# ("2021-12-06", "2022-04-27", -1),
# ("2022-04-27", "2022-08-11", +1),
# ("2022-08-11", "2022-12-16", -1),
# ],

"600649":
[
("2007-07-01", "2008-10-29", +0),
("2008-10-29", "2009-07-15", +1),
("2009-07-15", "2011-12-23", -1),
("2011-12-23", "2012-12-04", +0),
("2012-12-04", "2013-10-15", +1),
("2013-10-15", "2014-06-19", -1),
("2014-06-19", "2015-12-25", +1),
("2015-12-25", "2016-12-05", +0),
("2016-12-05", "2018-10-16", -1),
("2018-10-16", "2019-04-08", +0),
("2019-04-08", "2022-02-04", -1),
("2022-02-04", "2022-12-16", +0),
],


}


stock_rdate_t = dict()
for key, val in stock_rdate.items():
    _len = len(val)
    stock_rdate_t[key] = (val[0][0], val[_len-1][1])

print(stock_rdate_t)

label_annotation_dict = dict()

for key, val in stock_rdate.items():
    _ticker = key
    for idx, item in enumerate(val):
        _start_day, _end_day, _label = item
        if _ticker not in label_annotation_dict:
            label_annotation_dict[_ticker] = []
        _start_day = int(_start_day.replace("-", ""))
        _end_day = int(_end_day.replace("-", ""))
        _label = int(_label)
        stock_rdate[key][idx] = (_ticker, range(_start_day, _end_day + 1), _label)
        label_annotation_dict[_ticker].append((range(_start_day, _end_day + 1), _label))

print(label_annotation_dict.keys())